{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?31a9","webpack:///./src/App.vue","webpack:///./src/components/TheParliament.vue","webpack:///./src/d3-importer.js","webpack:///./src/components/TheParliament.vue?9916","webpack:///./src/components/TheDropdown.vue","webpack:///./src/components/TheDropdown.vue?5772","webpack:///./src/App.vue?8ecf","webpack:///./src/router.js","webpack:///./src/main.js","webpack:///./src/assets/images/kmapper_k_3b.png","webpack:///./src/components/TheDropdown.vue?4fc2","webpack:///./src/components/TheParliament.vue?9ce7"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","href","id","target","src","logo","alt","language","setLanguage","labels","council","intro","lang","type","selections","occupationalField","nrOfPaidConcerns","transition","select","selectAll","scaleLinear","scaleBand","min","max","ascending","groups","axisBottom","props","mounted","drawParliament","checkUrl","dataset","occupationalFields","paidConcerns","arrangements","watch","newLanguage","this","newArrangement","node","newOrder","updateUrl","methods","arr","ord","history","pushState","$route","path","console","log","$router","isReady","params","query","$emit","setDropdownSelection","option","element","document","getElementById","dispatchEvent","Event","remove","today","Date","forEach","councillor","birthDate","age","getFullYear","getMonth","getDate","tens","toString","keys","ageGroup","group","startsWith","nr","committeeMemberships","ms","leavingDate","nrOfCommittees","nrOfCouncilMemberships","councilMemberships","nrOfConcerns","concerns","nrOfVoluntaryConcerns","dimensions","width","height","margins","top","right","bottom","left","ctrWidth","ctrHeight","svg","append","attr","ctr","maxSeatsPerRow","tooltip","drawArrangement","arrangement","outerXDomain","innerXDomain","yDomain","colorScale","xScaleOuter","domain","range","paddingInner","paddingOuter","align","xScaleInner","bandwidth","yScale","xAxis","tickSize","tickSizeOuter","xAxisLine","duration","style","axis","text","seatsGroup","join","firstName","lastName","iIdx","innerIdx","yIdx","Math","floor","order","party","color","on","_","datum","addMouseover","thisArrangement","thisOrder","onmousemove","e","clientX","clientY","createLegend","thisColorScale","legendKeys","map","Array","from","fct","spacingVertical","circleRadius","spacingHorizontal","legendGroup","str","replace","toUpperCase","legendItems","updateSeatArrangement","newXOuter","newXInner","newYDomain","newColorScale","newOuterXScale","newInnerXScale","newYScale","x","xLabel","callUpdateFunction","getColorScale","getOuterXDomain","getInnerXDomain","getYDomain","event","preventDefault","xOuterItems","xOuterDomain","item","nrOfOuterGroups","xInnerDomain","ceil","nrOfInnerGroups","yScaleDomain","sort","a","b","index","groupedDataset","datasetItem","find","largestGroup","__exports__","for","selectionKeys","selection","none","computed","components","TheParliament","TheDropdown","render","router","createRouter","createWebHistory","routes","component","App","require","app","createApp","use","mount"],"mappings":"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","file":"js/app.8e4e40f4.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=03e051a6&scoped=true&lang=css\"","<template>\n  <div class=\"container page\">\n    <header>\n      <div class=\"row\">\n        <div class=\"col-12\">\n          <div class=\"logo\">\n            <a href=\"/\"><img :src=\"logo\" alt=\"The kmapper logo\" /></a>\n          </div>\n          <div class=\"languages\">\n            <button :class=\"{ isSelected: language === 'de' }\" @click=\"setLanguage('de')\">\n              DE\n            </button>\n            <button :class=\"{ isSelected: language === 'fr' }\" @click=\"setLanguage('fr')\">\n              FR\n            </button>\n            <button :class=\"{ isSelected: language === 'it' }\" @click=\"setLanguage('it')\">\n              IT\n            </button>\n            <button :class=\"{ isSelected: language === 'rm' }\" @click=\"setLanguage('rm')\">\n              RM\n            </button>\n            <button :class=\"{ isSelected: language === 'en' }\" @click=\"setLanguage('en')\">\n              EN\n            </button>\n          </div>\n        </div>\n      </div>\n    </header>\n    <main class=\"row\" id=\"nationalrat\">\n      <section class=\"title row\">\n        <div class=\"col-12\">\n          <h1>{{ labels.council[language] }}</h1>\n          <p>{{ labels.intro[language] }}<a href=\"#about\">*</a></p>\n        </div>\n      </section>\n      <section class=\"row\" id=\"chart\">\n        <div class=\"col-12\">\n          <the-parliament :lang=\"language\" @changeLanguage=\"setLanguage\"></the-parliament>\n        </div>\n      </section>\n      <section class=\"row\" id=\"dropdowns\">\n        <div class=\"col-6\">\n          <the-dropdown :type=\"'arrangement'\" :lang=\"language\"></the-dropdown>\n        </div>\n        <div class=\"col-6\">\n          <the-dropdown :type=\"'order'\" :lang=\"language\"></the-dropdown>\n        </div>\n      </section>\n      <section class=\"row\" id=\"about\">\n        <div class=\"col-12\">\n          <h3>* {{ labels.data[language] }}:</h3>\n          <p>\n            Die angezeigten Daten wurden Ende August 2022 direkt\n            über die\n            <a href=\"http://ws-old.parlament.ch\" target=\"_blank\">offene Schnittstelle</a>\n            von\n            <a href=\"https://www.parlament.ch\" target=\"_blank\">parlament.ch</a>\n            bezogen (<a href=\"https://github.com/cyrill-martin/nationalrat/blob/main/extras/get_councillors.py\"\n              target=\"_blank\">Script</a>). Daten und Code sind auf\n            <a href=\"https://github.com/cyrill-martin/nationalrat\" target=\"_blank\">GitHub</a>\n            verfügbar.\n          </p>\n          <p>\n            <b>{{ selections.occupationalField[language] }}</b>: Es ist schwierig, die einzelnen Parlamentarier:innen in\n            Berufsgruppen einzuteilen (<a\n              href=\"https://www.srf.ch/news/schweiz/die-jobs-der-neugewaehlten-im-neuen-nationalrat-sitzen-noch-mehr-berufspolitiker\"\n              target=\"_blank\">srf.ch</a>,\n            <a href=\"https://www.nau.ch/politik/bundeshaus/diese-berufe-dominieren-im-neuen-nationalrat-65602824\"\n              target=\"_blank\">nau.ch</a>). Die Berufsangaben auf parlament.ch sind ungenau, deshalb wurden\n            alle Parlamentarier:innen ohne Angaben zur Arbeitsstelle als\n            Berufspolitiker:innen eingeordnet. Auch solche, die gemäss\n            Berufsangaben Inhaber:in oder CEO eines Unternehmens sind, dieses\n            Unternehmen aber nicht als Arbeitsstelle angegeben haben. Ebenfalls\n            als Berufspolitiker:innen eingeordnet wurden Parlamentarier:innen\n            mit einer Anstellung bei einem Wirtschaftsverband oder einer anderen\n            Interessengemeinschaft.<br />\n            Alle anderen Tätigkeiten wurden einem übergreifenden Berufsfeld\n            zugewiesen.\n          </p>\n          <p>\n            <b>{{ selections.nrOfPaidConcerns[language] }}</b>: Die über die Schnittstelle bezogenen Daten enthalten die\n            Interessenbindungen der Parlamentarier, aber es ist nicht vermerkt,\n            ob es sich um ein bezahltes oder ehrenamtliches Mandat handelt. Die Daten wurden mit den Angaben im Register\n            der Interssenbindungen des Nationalrats manuell ergänzt (<a\n              href=\"https://github.com/cyrill-martin/nationalrat/blob/main/extras/interessen-nr.pdf\"\n              target=\"_blank\">Dokument</a>).\n          </p>\n          <p>\n            <br />\n            <br />\n            Cyrill Martin<br />\n            <a href=\"mailto:cyrill.martin@kmapper.com\">cyrill.martin@kmapper.com</a>\n          </p>\n        </div>\n      </section>\n    </main>\n    <footer class=\"row\">\n      <div class=\"col-12\">\n        &#169; 2022 Cyrill Martin -\n        <a href=\"https://kmapper.com\" target=\"_blank\">kmapper GmbH</a> -\n        <a href=\"https://github.com/cyrill-martin/nationalrat\" target=\"_blank\">GitHub</a>\n      </div>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport TheParliament from \"./components/TheParliament.vue\";\nimport TheDropdown from \"./components/TheDropdown.vue\";\nimport labels from \"./data/labels.json\";\nimport selections from \"./data/selections.json\";\n\nexport default {\n  name: \"App\",\n  components: {\n    TheParliament,\n    TheDropdown,\n  },\n  data() {\n    return {\n      labels,\n      selections,\n      language: \"de\",\n    };\n  },\n  computed: {\n    logo() {\n      return require(\"./assets/images/kmapper_k_3b.png\");\n    },\n  },\n  methods: {\n    setLanguage(lang) {\n      this.language = lang;\n    }\n  },\n};\n</script>\n\n<style scoped>\n.page {\n  position: relative;\n  min-height: 100vh;\n  padding: 0 1.5rem;\n}\n\nheader {\n  height: 4rem;\n  padding-top: 1rem;\n}\n\n.languages {\n  font-size: 0.8rem;\n  position: absolute;\n  top: 0.8rem;\n  right: 0.8rem;\n  z-index: 10;\n}\n\n.languages button {\n  margin-left: 0.25rem;\n  cursor: pointer;\n  border: none;\n  background: none;\n}\n\n.isSelected {\n  font-weight: bold;\n}\n\nimg {\n  width: 120px;\n}\n\n#nationalrat {\n  margin: auto;\n  width: 75%;\n}\n\n#chart {\n  border: solid 1px lightgrey;\n  border-radius: 16px;\n}\n\n#about {\n  margin-top: 4rem;\n  margin-left: auto;\n  margin-right: auto;\n  width: 60%;\n  font-size: 0.9rem;\n}\n\nfooter {\n  margin-top: 2rem;\n  height: 3rem;\n}\n\n@media only screen and (max-width: 65em) {\n  header {\n    padding-top: 0;\n  }\n\n  img {\n    width: 90px;\n  }\n\n  .page {\n    padding: 0;\n  }\n\n  #nationalrat {\n    margin: auto;\n    width: 95%;\n  }\n\n  #about {\n    margin-top: 4rem;\n    margin-left: auto;\n    margin-right: auto;\n    width: 95%;\n  }\n}\n</style>\n","<template>\n  <div id=\"parliament\">\n    <div id=\"tooltip\">\n      <div class=\"name\"></div>\n      <div class=\"arrangement\"></div>\n      <div class=\"order\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\n// import * as d3 from \"d3\";\nimport d3 from \"../d3-importer.js\";\n// Load the data\nimport dataset from \"../data/N_council.json\";\nimport occupationalFields from \"../data/occupationalFields.json\";\nimport paidConcerns from \"../data/paidConcerns.json\";\nimport arrangements from \"../data/arrangements.json\";\nimport selections from \"../data/selections.json\";\n\nexport default {\n  props: [\"lang\"],\n  async mounted() {\n    await this.drawParliament();\n    // this.language = this.lang;\n    this.checkUrl();\n  },\n  data() {\n    return {\n      dataset,\n      occupationalFields,\n      paidConcerns,\n      arrangements,\n      selections,\n      language: \"de\",\n    };\n  },\n  watch: {\n    lang(newLanguage) {\n      this.language = newLanguage;\n      const newArrangement = d3.select(\"#arrangement\").node().value;      \n      const newOrder = d3.select(\"#order\").node().value;\n      this.updateUrl(newArrangement, newOrder)\n      this.drawParliament();\n    },\n  },\n  methods: {\n    updateUrl(arr, ord) {\n      history.pushState(\n        {},\n        null,\n        `${this.$route.path}?arr=${arr}&ord=${ord}&lang=${this.language}`\n      )\n    },\n    async checkUrl() {\n      console.log(\"Checking the URL parameters\");\n\n      try {\n        await this.$router.isReady()\n        // onSuccess\n\n        const params = this.$route.query;\n\n        if (params.lang) {\n          this.$emit(\"changeLanguage\", params.lang)\n        } else {\n          this.language = this.lang;\n        }\n\n        if (params.arr) {\n          this.setDropdownSelection(\"arrangement\", params.arr)\n        }\n\n        if (params.ord) {\n          this.setDropdownSelection(\"order\", params.ord)\n        }\n\n      } catch (err) {\n        // onError\n      }\n\n    },\n    setDropdownSelection(id, option) {\n      const element = document.getElementById(id);\n      console.log(element)\n      element.value = option;\n      element.dispatchEvent(new Event('change'))\n\n    },\n    async drawParliament() {\n      d3.select(\"svg\").remove();\n      // Add additional data fields to each councillor\n      const today = new Date();\n      this.dataset.forEach((councillor) => {\n        // Get age\n        const birthDate = new Date(councillor.birthDate);\n        let age = today.getFullYear() - birthDate.getFullYear();\n        let m = today.getMonth() - birthDate.getMonth();\n        if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\n          age--;\n        }\n\n        // Add age\n        councillor.age = age;\n\n        // Add age group\n        const tens = age.toString()[0];\n        Object.keys(this.arrangements.ageGroup).forEach((group) => {\n          if (group.startsWith(tens)) {\n            councillor.ageGroup = group;\n          }\n        });\n        // Add occupational field\n        councillor.occupationalField = this.occupationalFields[councillor.id];\n\n        // Add number of (active) committee memberships\n        let nr = 0;\n        councillor.committeeMemberships.forEach((ms) => {\n          if (!ms.leavingDate) {\n            nr++;\n          }\n        });\n        councillor.nrOfCommittees = nr;\n\n        // Add total number of council memberships\n        councillor.nrOfCouncilMemberships =\n          councillor.councilMemberships.length;\n\n        // Add total number of concerns\n        councillor.nrOfConcerns = councillor.concerns.length;\n\n        // Add number of paid concerns\n        councillor.nrOfPaidConcerns = this.paidConcerns[councillor.id];\n\n        // Add number of voluntary concerns\n        councillor.nrOfVoluntaryConcerns =\n          councillor.nrOfConcerns - councillor.nrOfPaidConcerns;\n      });\n\n      // Prepare the SVG\n      ///////////////////////////////////////////////\n\n      // Set dimensions\n      const dimensions = {\n        width: 1000,\n        height: 380,\n        margins: {\n          top: 40,\n          right: 170,\n          bottom: 30,\n          left: 15,\n        },\n        ctrWidth: null,\n        ctrHeight: null,\n      };\n\n      // Create and set inner container width\n      dimensions.ctrWidth =\n        dimensions.width - (dimensions.margins.left + dimensions.margins.right);\n      // Create and set inner container height\n      dimensions.ctrHeight =\n        dimensions.height -\n        (dimensions.margins.top + dimensions.margins.bottom);\n\n      // Create SVG element\n      const svg = d3\n        .select(\"#parliament\")\n        .append(\"svg\")\n        .attr(\"preserveAspectRatio\", \"xMinYMin\")\n        .attr(\"viewBox\", `0 0 ${dimensions.width} ${dimensions.height}`);\n\n      // Add inner container to SVG\n      const ctr = svg\n        .append(\"g\")\n        .attr(\n          \"transform\",\n          `translate(${dimensions.margins.left}, ${dimensions.margins.top})`\n        );\n\n      // Set the max number of seats per seating row\n      const maxSeatsPerRow = 30;\n\n      // Get tooltip element from DOM\n      const tooltip = d3.select(\"#tooltip\");\n\n      // Arrange the seating\n      ///////////////////////////////////////////////\n\n      // Function to create the seating\n      const drawArrangement = (\n        arrangement,\n        outerXDomain,\n        innerXDomain,\n        yDomain,\n        colorScale\n      ) => {\n        // Create the actual outer x-scale\n        const xScaleOuter = d3\n          .scaleBand()\n          .domain(outerXDomain)\n          .range([0, dimensions.ctrWidth])\n          .paddingInner(0.2) // Space between groups of x-axis items\n          .paddingOuter(0.2)\n          .align(0.5);\n\n        const xScaleInner = d3\n          .scaleBand()\n          .domain(innerXDomain)\n          .range([0, xScaleOuter.bandwidth()])\n          .paddingInner(0.2);\n\n        // Create the actual y-scale\n        const yScale = d3\n          .scaleBand()\n          .domain(yDomain)\n          .range([0, dimensions.ctrHeight])\n          .paddingInner(0.1);\n\n        // Create x-axis\n        const xAxis = d3.axisBottom(xScaleOuter).tickSize(0).tickSizeOuter(0);\n\n        // Draw x-axis\n        const xAxisLine = ctr\n          .append(\"g\")\n          .attr(\"id\", \"x-axis\")\n          .attr(\"transform\", `translate(0, ${dimensions.ctrHeight})`)\n          .call(xAxis);\n\n        // Rotate axis tick labels\n        if (arrangement === \"occupationalField\" || arrangement === \"party\") {\n          xAxisLine\n            .selectAll(\"text\")\n            .transition()\n            .duration(2000)\n            .style(\"text-anchor\", \"start\")\n            .attr(\"dy\", \"-.01em\")\n            .attr(\"dx\", \"-2em\")\n            .attr(\"transform\", \"rotate(-90)\");\n        }\n\n        // Remove the horizontal x-axis line\n        xAxisLine.call((axis) => axis.select(\".domain\").remove());\n\n        // Add x-axis label\n        ctr\n          .append(\"g\")\n          .attr(\n            \"transform\",\n            `translate(${dimensions.ctrWidth / 2}, ${dimensions.ctrHeight + 28\n            })`\n          )\n          .attr(\"id\", \"x-axis-label\")\n          .append(\"text\")\n          .style(\"font-size\", \"10px\")\n          .style(\"font-weight\", \"bold\")\n          .attr(\"text-anchor\", \"middle\")\n          .text(() => {\n            if (arrangement !== \"firstName\") {\n              return selections[arrangement][this.language];\n            } else {\n              return \"\";\n            }\n          });\n\n        const seatsGroup = ctr.append(\"g\").attr(\"class\", \"seats\");\n\n        seatsGroup\n          .selectAll(\"g\")\n          .data(this.dataset)\n          .join(\"g\")\n          .attr(\"class\", \"seat\")\n          .attr(\"transform\", (d) => {\n            if (\n              !this.arrangements[arrangement] &&\n              arrangement !== \"firstName\"\n            ) {\n              // It's numerical\n              return `translate(${+xScaleOuter(d[arrangement])}, 0)`;\n            } else {\n              if (arrangement === \"firstName\") {\n                return `translate(${+xScaleOuter(\"\")}, 0)`;\n              } else {\n                return `translate(${+xScaleOuter(\n                  this.arrangements[arrangement][d[arrangement]][this.language]\n                )}, 0)`;\n              }\n            }\n          }) // Position along the main x-axis\n          .attr(\"id\", (d) => d.id)\n          .append(\"a\")\n          .attr(\n            \"xlink:href\",\n            (d) =>\n              `https://www.parlament.ch/${this.language}/biografie/${d.firstName}-${d.lastName}/${d.id}`\n          )\n          .attr(\"target\", \"_blank\")\n          .append(\"circle\")\n          .attr(\"class\", \"councillor\")\n          .attr(\"cx\", (d) => {\n            // Get index of inner Scale\n            const iIdx = d.innerIdx % innerXDomain.length;\n            return xScaleInner(iIdx) + xScaleInner.bandwidth() / 2;\n          })\n          .attr(\"cy\", (d) => {\n            const yIdx = Math.floor(d.innerIdx / innerXDomain.length);\n            return yScale(yIdx);\n          })\n          .attr(\"r\", () => {\n            let r = xScaleInner.bandwidth() / 2;\n            if (yScale.bandwidth() / 2 < r) {\n              r = yScale.bandwidth() / 2;\n            }\n            return r;\n          })\n          .attr(\"fill\", (d) => {\n            if (!this.arrangements[order] && order !== \"firstName\") {\n              return colorScale(d[order]);\n            } else {\n              if (order === \"firstName\") {\n                return this.arrangements.party[d.party].color;\n              } else {\n                return this.arrangements[order][d[order]].color;\n              }\n            }\n          })\n          .attr(\"cursor\", \"pointer\")\n          .on(\"mouseover touchstart\", (_, datum) => {\n            addMouseover(arrangement, order, datum);\n          })\n          .on(\"mouseout touchend\", () => {\n            tooltip.style(\"display\", \"none\");\n          });\n\n        const addMouseover = (thisArrangement, thisOrder, data) => {\n          tooltip.style(\"display\", \"block\");\n\n          onmousemove = (e) => {\n            tooltip\n              .style(\"left\", e.clientX + 25 + \"px\")\n              .style(\"top\", e.clientY - 50 + \"px\");\n          };\n\n          tooltip.select(\".name\").text(`${data.firstName} ${data.lastName}`);\n\n          tooltip.select(\".arrangement\").text(() => {\n            if (\n              !this.arrangements[thisArrangement] &&\n              thisArrangement !== \"firstName\"\n            ) {\n              return `${data[thisArrangement]}`;\n            } else {\n              if (thisArrangement !== \"firstName\") {\n                return `${this.arrangements[thisArrangement][data[thisArrangement]][\n                  this.language\n                ]\n                  }`;\n              } else {\n                return `${this.arrangements.party[data.party][this.language]}`;\n              }\n            }\n          });\n\n          if (thisArrangement !== thisOrder) {\n            tooltip.select(\".order\").text(() => {\n              if (!this.arrangements[thisOrder] && thisOrder !== \"firstName\") {\n                return `${data[thisOrder]}`;\n              } else {\n                if (thisOrder !== \"firstName\") {\n                  return `${this.arrangements[thisOrder][data[thisOrder]][this.language]\n                    }`;\n                } else {\n                  return `${this.arrangements.party[data.party][this.language]\n                    }`;\n                }\n              }\n            });\n          } else {\n            tooltip.select(\".order\").text(\"\");\n          }\n        };\n\n        // Add legend\n        ///////////////////////////////////////////////\n        const createLegend = (thisOrder, thisColorScale) => {\n          d3.selectAll(\".legend\").remove();\n\n          let legendKeys;\n\n          if (\n            !this.arrangements[thisOrder] &&\n            thisOrder !== \"firstName\" &&\n            thisOrder !== \"age\"\n          ) {\n            // It's numerical\n            const max = d3.max(\n              this.dataset,\n              (councillor) => councillor[thisOrder]\n            );\n            legendKeys = Array.from(Array(max + 1).keys());\n\n            if (thisOrder === \"nrOfCouncilMemberships\") {\n              legendKeys.shift();\n            }\n          } else {\n            if (thisOrder === \"age\") {\n              thisOrder = \"ageGroup\";\n            }\n            // Create legend keys\n            legendKeys = Object.keys(this.arrangements[thisOrder]).map(\n              (key) => key\n            );\n          }\n\n          let fct = 1;\n\n          if (thisOrder === \"nrOfConcerns\") {\n            fct = 0.7;\n          } else if (\n            thisOrder === \"cantonName\" ||\n            thisOrder === \"nrOfPaidConcerns\" ||\n            thisOrder === \"nrOfVoluntaryConcerns\"\n          ) {\n            fct = 0.85;\n          }\n\n          const spacingVertical = 15 * fct;\n          const circleRadius = spacingVertical / 3;\n          const spacingHorizontal = spacingVertical / 2;\n\n          // Add legend group\n          const legendGroup = svg\n            .append(\"g\")\n            .attr(\"class\", \"legend\")\n            .style(\"font-size\", `${circleRadius * 2}px`)\n            .attr(\n              \"transform\",\n              `translate(${dimensions.ctrWidth + 22}, ${dimensions.margins.top\n              })`\n            );\n\n          // Add legend title\n          legendGroup\n            .append(\"g\")\n            .append(\"text\")\n            .style(\"font-weight\", \"bold\")\n            .text(() => {\n              if (thisOrder !== \"firstName\") {\n                if (selections[thisOrder][this.language].startsWith(\"Anzahl\")) {\n                  let str = selections[thisOrder][this.language].replace(\n                    \"Anzahl \",\n                    \"\"\n                  );\n                  str = str[0].toUpperCase() + str.slice(1);\n                  return str;\n                } else {\n                  return selections[thisOrder][this.language];\n                }\n              } else {\n                return selections.party[this.language];\n              }\n            });\n\n          // Add <g> for each legend item\n          const legendItems = legendGroup\n            .selectAll(\".legend-item\")\n            .data(legendKeys)\n            .join(\"g\")\n            .attr(\"class\", \"legend-item\")\n            .attr(\n              \"transform\",\n              (_, i) =>\n                `translate(${circleRadius}, ${spacingVertical + i * spacingVertical\n                })`\n            );\n\n          // Draw the legend circles for selected legend keys\n          legendItems\n            .append(\"circle\")\n            .transition()\n            .duration(1000)\n            .attr(\"cx\", 0)\n            .attr(\"cy\", 0)\n            .attr(\"r\", circleRadius)\n            .attr(\"fill\", (d) => {\n              if (thisColorScale) {\n                return thisColorScale(d);\n              } else {\n                return this.arrangements[thisOrder][d].color;\n              }\n            });\n\n          // Write the legend keys next to the legend circles\n          legendItems\n            .append(\"text\")\n            .attr(\"opacity\", 0)\n            .transition()\n            .duration(1000)\n            .attr(\"opacity\", 1)\n            .attr(\"x\", spacingHorizontal)\n            .attr(\"y\", circleRadius / 2 + 1)\n            .text((d) => {\n              if (thisColorScale) {\n                return d;\n              } else {\n                return this.arrangements[thisOrder][d][this.language];\n              }\n            });\n        };\n\n        if (order !== \"firstName\") {\n          createLegend(order, colorScale);\n        } else {\n          createLegend(\"party\", colorScale);\n        }\n\n        // Update general seat arrangement\n        ///////////////////////////////////////////////\n\n        // I hate this approach. Could someone teach me how to do proper\n        // transistioning with the join method !!!\n        const updateSeatArrangement = (\n          newArrangement,\n          newOrder,\n          newXOuter,\n          newXInner,\n          newYDomain,\n          newColorScale\n        ) => {\n          const newOuterXScale = xScaleOuter.domain(newXOuter);\n\n          const newInnerXScale = xScaleInner\n            .domain(newXInner)\n            .range([0, newOuterXScale.bandwidth()]);\n\n          const newYScale = yScale.domain(newYDomain);\n\n          const x = d3.select(\"#x-axis\");\n          x.transition()\n            .duration(1000)\n            .call(d3.axisBottom(newOuterXScale).tickSize(0).tickSizeOuter(0));\n          // Remove the horizontal x-axis line\n          x.call((axis) => axis.select(\".domain\").remove());\n\n          if (\n            newArrangement === \"occupationalField\" ||\n            newArrangement === \"party\"\n          ) {\n            x.selectAll(\"text\")\n              .transition()\n              .duration(2000)\n              .style(\"text-anchor\", \"start\")\n              .attr(\"dy\", \"-.05em\")\n              .attr(\"dx\", \"-1.5em\")\n              .attr(\"transform\", \"rotate(-90)\");\n          } else if (newArrangement === \"faction\") {\n            x.selectAll(\"text\")\n              .transition()\n              .duration(2000)\n              .style(\"text-anchor\", \"middle\")\n              .attr(\"dy\", \"0\")\n              .attr(\"dx\", \"0\")\n              .attr(\"transform\", \"rotate(0)\");\n          }\n\n          const xLabel = d3.select(\"#x-axis-label\");\n          xLabel\n            .select(\"text\")\n            .transition()\n            .duration(2000)\n            .text(() => {\n              if (newArrangement !== \"firstName\") {\n                return selections[newArrangement][this.language];\n              } else {\n                return \"\";\n              }\n            });\n\n          // Update the position of the seats\n          d3.selectAll(\".seat\")\n            .transition()\n            .duration(2000)\n            .attr(\"transform\", (d) => {\n              if (\n                !this.arrangements[newArrangement] &&\n                newArrangement !== \"firstName\"\n              ) {\n                // It's numerical\n                return `translate(${+newOuterXScale(d[newArrangement])}, 0)`;\n              } else {\n                if (newArrangement === \"firstName\") {\n                  return `translate(${+newOuterXScale(\"\")}, 0)`;\n                } else {\n                  return `translate(${+newOuterXScale(\n                    this.arrangements[newArrangement][d[newArrangement]][\n                    this.language\n                    ]\n                  )}, 0)`;\n                }\n              }\n            }); // Position along the main x-axis\n\n          d3.selectAll(\".councillor\")\n            .attr(\"cursor\", \"pointer\")\n            .on(\"mouseover touchstart\", (_, datum) => {\n              addMouseover(newArrangement, newOrder, datum);\n            })\n            .on(\"mouseout touchend\", () => {\n              tooltip.style(\"display\", \"none\");\n            })\n            .transition()\n            .duration(2000)\n            .attr(\"cx\", (d) => {\n              // Get index of inner Scale\n              const iIdx = d.innerIdx % newXInner.length;\n              return newInnerXScale(iIdx) + newInnerXScale.bandwidth() / 2;\n            })\n            .attr(\"cy\", (d) => {\n              const yIdx = Math.floor(d.innerIdx / newXInner.length);\n              return newYScale(yIdx);\n            })\n            .attr(\"r\", () => {\n              let r = newInnerXScale.bandwidth() / 2;\n              if (newYScale.bandwidth() / 2 < r) {\n                r = newYScale.bandwidth() / 2;\n              }\n              return r;\n            })\n            .attr(\"fill\", (d) => {\n              if (\n                !this.arrangements[newOrder] &&\n                newOrder !== \"firstName\" &&\n                newOrder !== \"age\"\n              ) {\n                return newColorScale(d[newOrder]);\n              } else {\n                if (newOrder === \"firstName\") {\n                  return this.arrangements.party[d.party].color;\n                } else if (newOrder === \"age\") {\n                  return this.arrangements.ageGroup[d.ageGroup].color;\n                } else {\n                  return this.arrangements[newOrder][d[newOrder]].color;\n                }\n              }\n            });\n\n          if (newOrder !== \"firstName\") {\n            createLegend(newOrder, newColorScale);\n          } else {\n            createLegend(\"party\", newColorScale);\n          }\n        };\n\n        const callUpdateFunction = (arrangement, order) => {\n          const newColorScale = getColorScale(order);\n          const newXOuter = getOuterXDomain(arrangement);\n          const newXInner = getInnerXDomain(newXOuter.length);\n          const newYDomain = getYDomain(arrangement, order, newXInner.length);\n          updateSeatArrangement(\n            arrangement,\n            order,\n            newXOuter,\n            newXInner,\n            newYDomain,\n            newColorScale\n          );\n        };\n\n        // Listen to changes on the seat arrangement\n        d3.select(\"#arrangement\").on(\"change\", (event) => {\n          event.preventDefault();\n          const newArrangement = event.target.value;\n          const newOrder = d3.select(\"#order\").node().value;\n          this.updateUrl(newArrangement, newOrder);\n          callUpdateFunction(newArrangement, newOrder);\n        });\n\n        // Listen to changes on group order\n        d3.select(\"#order\").on(\"change\", (event) => {\n          event.preventDefault();\n          const newOrder = event.target.value;\n          const newArrangement = d3.select(\"#arrangement\").node().value;\n          this.updateUrl(newArrangement, newOrder);\n          callUpdateFunction(newArrangement, newOrder);\n        });\n      };\n\n      // Function to get the get outer x-scale items and domain\n      const getOuterXDomain = (arrangement) => {\n        // Outer x-Scale - depends on the arrangement\n        let xOuterItems, xOuterDomain;\n\n        // Set the outer x-scale domain\n\n        if (!this.arrangements[arrangement] && arrangement !== \"firstName\") {\n          // It's numerical\n          // Get the max of all councillors\n          const max = d3.max(\n            this.dataset,\n            (councillor) => councillor[arrangement]\n          );\n          if (arrangement === \"age\") {\n            const min = d3.min(this.dataset, (councillor) => councillor.age);\n            xOuterDomain = Array.from(\n              { length: max - min + 1 },\n              (_, i) => i + min\n            );\n          } else {\n            xOuterDomain = Array.from(Array(max + 1).keys());\n            if (arrangement === \"nrOfCouncilMemberships\") {\n              xOuterDomain.shift();\n            }\n          }\n        } else {\n          if (arrangement === \"firstName\") {\n            // If arranged by name, all councillors belong to the same group\n            xOuterItems = [\"\"];\n            xOuterDomain = [\"\"];\n          } else {\n            // Else, the councillors are grouped by the selected arrangement\n            xOuterItems = Object.keys(this.arrangements[arrangement]);\n            xOuterDomain = xOuterItems.map(\n              (item) => this.arrangements[arrangement][item][this.language]\n            );\n          }\n        }\n        return xOuterDomain;\n      };\n\n      // Function to get the inner x-scale domain\n      const getInnerXDomain = (nrOfOuterGroups) => {\n        let xInnerDomain;\n        // The inner scale is given by the maxSeatsPerRow divided by number of outer groups\n        xInnerDomain = Array.from(\n          Array(Math.ceil(maxSeatsPerRow / nrOfOuterGroups)).keys()\n        );\n        return xInnerDomain;\n      };\n\n      // Function to get the y-scale domain\n      // ...and to add/change special inner indices !!!\n      const getYDomain = (arrangement, order, nrOfInnerGroups) => {\n        // y-Scale - depends on largest group: Number of members / xInnerDomain\n        let yScaleDomain;\n\n        if (arrangement === \"firstName\") {\n          yScaleDomain = Array.from(\n            Array(Math.ceil(this.dataset.length / maxSeatsPerRow)).keys()\n          );\n\n          this.dataset.sort((a, b) => {\n            return d3.ascending(a[order], b[order]);\n          });\n\n          // Add innerIdx\n          this.dataset.forEach((item, index) => {\n            item.innerIdx = index;\n          });\n        } else {\n          // Group the this.dataset by the selected arrangement\n          const groupedDataset = d3.groups(this.dataset, (d) => d[arrangement]);\n          // E.g. this.dataset = [\n          //   [ \"VS\", [...] ],\n          //   [ \"S\", [...] ],\n          //   ...\n          // ]\n\n          groupedDataset.forEach((group) => {\n            // Sort group according to order\n            group[1].sort((a, b) => {\n              return d3.ascending(a[order], b[order]);\n            });\n\n            // Add innerIdx to get positioning right later\n            group[1].forEach((item, index) => {\n              const datasetItem = this.dataset.find(({ id }) => id === item.id);\n              datasetItem.innerIdx = index;\n            });\n          });\n\n          // Get the number of members of the largest group\n          const largestGroup = d3.max(groupedDataset, (group) => {\n            return group[1].length;\n          });\n\n          // Set the y-scale domain\n          // It's the number of seat rows of the largest group\n          yScaleDomain = Array.from(\n            Array(Math.ceil(largestGroup / nrOfInnerGroups)).keys()\n          );\n        }\n        return yScaleDomain;\n      };\n\n      // Function to get a possible linear color scale\n      const getColorScale = (thisOrder) => {\n        let colorScale;\n        if (\n          !this.arrangements[thisOrder] &&\n          thisOrder !== \"firstName\" &&\n          thisOrder !== \"age\"\n        ) {\n          // It's numerical\n\n          // Get the max of all councillors\n          const max = d3.max(\n            this.dataset,\n            (councillor) => councillor[thisOrder]\n          );\n\n          colorScale = d3\n            .scaleLinear()\n            .domain([0, max])\n            .range([\"lightgrey\", \"black\"]);\n        }\n        return colorScale;\n      };\n\n      // Get the arrangement and order\n      ///////////////////////////////////////////\n      const arrangement = d3.select(\"#arrangement\").node().value;\n      const order = d3.select(\"#order\").node().value;\n\n      // Get the color scale (it's undefined or not)\n      ///////////////////////////////////////////\n      const colorScale = getColorScale(order);\n\n      // Get the actual outer x-scale domain\n      ///////////////////////////////////////////\n      const outerXDomain = getOuterXDomain(arrangement);\n\n      // Get the actual inner x-scale domain\n      ///////////////////////////////////////////\n      const innerXDomain = getInnerXDomain(outerXDomain.length);\n\n      // Get the actual y-scale domain\n      ///////////////////////////////////////////\n      const yDomain = getYDomain(arrangement, order, innerXDomain.length);\n\n      // Draw the parliament\n      ///////////////////////////////////////////\n\n      drawArrangement(\n        arrangement,\n        outerXDomain,\n        innerXDomain,\n        yDomain,\n        colorScale\n      );\n\n      \n    },\n  },\n};\n</script>\n\n<style scoped>\n#tooltip {\n  display: none;\n  position: fixed;\n  z-index: 10;\n  background-color: white;\n  border: solid 1px #333447;\n  border-radius: 4px;\n  padding: 5px;\n}\n\n.name {\n  font-weight: bold;\n}\n</style>\n","import { transition } from \"d3-transition\";\nimport { select, selectAll } from \"d3-selection\";\nimport { scaleLinear, scaleBand } from \"d3-scale\";\nimport { min, max, ascending, groups } from \"d3-array\";\nimport { axisBottom } from \"d3-axis\";\nexport default {\n  transition,\n  select,\n  selectAll,\n  scaleLinear,\n  scaleBand,\n  min,\n  max,\n  ascending,\n  groups,\n  axisBottom,\n};\n","import { render } from \"./TheParliament.vue?vue&type=template&id=2e81d2cf&scoped=true\"\nimport script from \"./TheParliament.vue?vue&type=script&lang=js\"\nexport * from \"./TheParliament.vue?vue&type=script&lang=js\"\n\nimport \"./TheParliament.vue?vue&type=style&index=0&id=2e81d2cf&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/kmapper/Documents/Projects/nationalrat/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2e81d2cf\"]])\n\nexport default __exports__","<template>\n  <div class=\"row\">\n    <div class=\"col-12 label\">\n      <label :for=\"type\">{{ labels[type][lang] }}</label>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-12 select\">\n      <select :name=\"type\" :id=\"type\">\n        <option\n          v-for=\"(selection, index) in selectionKeys\"\n          :value=\"selection\"\n          :key=\"index\"\n        >\n          <span v-if=\"type === 'arrangement' && selection === 'firstName'\"\n            >{{ labels.none[lang] }}</span\n          >\n          <span v-else>{{ selections[selection][lang] }}</span>\n        </option>\n      </select>\n    </div>\n  </div>\n</template>\n\n<script>\nimport labels from \"../data/labels.json\";\nimport selections from \"../data/selections.json\";\n\nexport default {\n  props: [\"type\", \"lang\"],\n  data() {\n    return {\n      labels: labels,\n      selections: selections,\n    };\n  },\n  computed: {\n    selectionKeys() {\n      return Object.keys(selections);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.label {\n  font-size: 1.1rem;\n  font-weight: bold;\n}\nselect {\n  width: 100%;\n  border-radius: 4px;\n  padding: 8px;\n  border: none;\n  font-size: 0.9rem;\n  cursor: pointer;\n  background: #d2dfeb;\n}\n</style>\n","import { render } from \"./TheDropdown.vue?vue&type=template&id=63a7ba2e&scoped=true\"\nimport script from \"./TheDropdown.vue?vue&type=script&lang=js\"\nexport * from \"./TheDropdown.vue?vue&type=script&lang=js\"\n\nimport \"./TheDropdown.vue?vue&type=style&index=0&id=63a7ba2e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/kmapper/Documents/Projects/nationalrat/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-63a7ba2e\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=03e051a6&scoped=true\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=03e051a6&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/kmapper/Documents/Projects/nationalrat/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-03e051a6\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from \"vue-router\";\nimport App from './App.vue'\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: [\n    { path: \"/\", component: App },\n  ],\n});\n\nexport default router;\n","import { createApp } from 'vue'\nimport router from \"./router.js\";\nimport App from './App.vue'\n\nrequire(\"./assets/styles/simplest-grid-nr.css\");\n\nconst app = createApp(App);\napp.use(router);\n\napp.mount(\"#app\");\n","module.exports = __webpack_public_path__ + \"img/kmapper_k_3b.a4e24347.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./TheDropdown.vue?vue&type=style&index=0&id=63a7ba2e&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./TheParliament.vue?vue&type=style&index=0&id=2e81d2cf&scoped=true&lang=css\""],"sourceRoot":""}